<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>trajectory_analyzer: Trajectory analyzer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">trajectory_analyzer
   </div>
   <div id="projectbrief">Trajectory analysis in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Trajectory analyzer </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> </p>
<h1><a class="anchor" id="autotoc_md1"></a>
CS50 final project</h1>
<p>Author: Johnny Alexander Jimenez Siegert</p>
<p>City: Halle (Saale)</p>
<p>Country: Germany</p>
<p>Video demo: <a href="https://youtu.be/846dDKsV6Go">Youtube</a>.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Trajectory analyzer</h1>
<p>This is a tool used to analyze a trajectory, the result of a molecular dynamics (MD) simulation. It's primariliy written for use in bash shell under a linux-based OS.</p>
<p>The documentation should ideally be read in a browser beginning with docs/html/index.html. As a shorthand you can open this file with: <code>make openmanual</code>. The documentation can also be rebuilt with doxygen via: <code>make manual</code>.</p>
<p>I've written this tool with a background in computational chemistry. If you're unfamiliar with this field, you might want to check out the <a class="el" href="md_docs_THEORY.html">Theoretical Background</a>.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Installation</h1>
<p>In order to build the executable, simply invoke <code>make</code>. This will build all the necessary object files and an executable traj_analyzer. You can remove the object files with <code>make clean</code>. Compilation can be sped up using the <code>-j N</code> option, where N is the number of CPU cores. On a system with 4 cores, you could therefore run: </p><pre class="fragment">make -j 4
make clean
</pre><p> If you wish to remove all compiled files including the executable, run <code>make remove</code>.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Usage</h1>
<p>The executable traj_analyzer expects three arguments:</p><ul>
<li><p class="startli">Trajectory (.xyz)</p>
<p class="startli">A trajectory, usually produced by a molecular dynamics software. One timestep is assumed to represent 0.5 fs. Currently only the xyz file format is supported.</p>
</li>
<li><p class="startli">pbc file</p>
<p class="startli">A text file containing the periodic boundary conditions. The first three lines must contain three numbers seperated by a space each (further lines will be ignored).</p>
</li>
<li><p class="startli">input file</p>
<p class="startli">A text file containing on each line the name of a calculation followed by its parameters.</p>
</li>
</ul>
<p>With these three, you can invoke the program as: </p><pre class="fragment">traj_analyzer trajectory.xyz pbc-file input-file
</pre> <h1><a class="anchor" id="autotoc_md5"></a>
Example</h1>
<p>A small example is included in the directory example/. It contains the necessary inputs for a simple calculation:</p><ul>
<li><p class="startli">Trajectory: example/traj/CDP_224.xyz</p>
<p class="startli">Trajectory of cesium dihydrogen phosphate (CDP) over 1000 timesteps.</p>
</li>
<li><p class="startli">pbc file: example/traj/pbc_CDP_224</p>
<p class="startli">Periodic boundary conditions of the CDP simulation (corresponding to 2x2x4 elementary units of CDP).</p>
</li>
<li><p class="startli">input file: example/calc.inp</p>
<p class="startli">Example input file covering every supported calculation.</p>
</li>
</ul>
<p>Once inside the example/ directory, the calculation can be invoked as:</p>
<div class="fragment"><div class="line">mkdir results; </div>
<div class="line">cd results;</div>
<div class="line">../../traj_analyzer ../traj/CDP_224_small.xyz ../traj/pbc_CDP_224 ../calc.inp;</div>
</div><!-- fragment --><p>These commands have been collected in example/example.sh, once inside the example/ directory you can run <code>bash example.sh</code>. The results will be stored in the directory example/results. For reference the same functions have been computed using the free program package <a href="http://www.travis-analyzer.de/">TRAVIS</a>. The csv-files with the same name in results/ and reference/ should be just about the same (within margin of error).</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Calculations</h1>
<p>Currently three types of calculations are supported: mean square displacement (MSD), radial distribution function (RDF) and orientational auto-correlation function (OACF).</p>
<p>Each function requires either one (MSD) or two (RDF, OACF) obligatory arguments. The remaining arguments are optional and will be assumed to be their default values, if not specified. All calculations with arguments are:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Calulcation   </th><th class="markdownTableHeadNone">Parameters   </th><th class="markdownTableHeadNone">Default   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" rowspan="3">msd   </td><td class="markdownTableBodyNone">Atom type   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">The atom type, whose MSD shall be calculated. Only obligatory argument.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Resolution   </td><td class="markdownTableBodyNone">100   </td><td class="markdownTableBodyNone">Number of correlation times to be sampled. Higher resolution might give a more accurate and less jagged result, but will also increase calculation time.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Time depth   </td><td class="markdownTableBodyNone">0.3   </td><td class="markdownTableBodyNone">Correlation times will be sampled up until this fraction of the total trajectory length. Higher time depth will give more data by sampling a larger range of correlation times, but the additionally sampled range will be less reliable.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone" rowspan="2">msd_fft   </td><td class="markdownTableBodyNone">Atom type   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">The atom type, whose MSD shall be calculated. Only obligatory argument.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Time depth   </td><td class="markdownTableBodyNone">0.3   </td><td class="markdownTableBodyNone">Correlation times will be sampled up until this fraction of the total trajectory length. Higher time depth will give more data by sampling a larger range of correlation times, but the additionally sampled range will be less reliable.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone" rowspan="5">rdf (rdf_inter)   </td><td class="markdownTableBodyNone">Atom type 1   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">First atom type in the rdf-pair.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Atom type 2   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">Second atom type in the rdf-pair.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Bins   </td><td class="markdownTableBodyNone">300   </td><td class="markdownTableBodyNone">Number of bins, into which the distances will be sorted. More bins might give slightly more accurate results.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Min distances   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">Minimum distance to bin.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Max distances   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">Maximum distance to bin.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" rowspan="4">oacf   </td><td class="markdownTableBodyNone">Atom type 1   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">First atom type, which will be the start of the rotating vector.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Atom type 2   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">Second atom type, of which the closest neighbors to the atoms of type 1 will be the end of the rotating vector.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Resolution   </td><td class="markdownTableBodyNone">100   </td><td class="markdownTableBodyNone">Number of correlation times to be sampled. Higher resolution might give a more accurate and less jagged result, but will also increase calculation time.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Time depth   </td><td class="markdownTableBodyNone">0.3   </td><td class="markdownTableBodyNone">Correlation times will be sampled up until this fraction of the total trajectory length. Higher time depth will give more data by sampling a larger range of correlation times, but the additionally sampled range will be less reliable.   </td></tr>
</table>
<p>The input file must contain one line for each calculation to be performed. Each line should contain a calculation name followed by its arguments. Empty lines and lines beginning with # are ignored.</p>
<p>The content of the example input file is as follows: </p><pre class="fragment">msd H 100 0.3
msd_fft H 0.3
rdf O O 300 0 4
rdf_inter O O P 300 0 4
oacf P O 100 0.
</pre> <h1><a class="anchor" id="autotoc_md7"></a>
License</h1>
<p>This project comes with a <a href="https://opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> license. Feel free to include (whole or in parts), modify or distribute it with your own projects, as long as you retain the information specified in the <a href="../../LICENSE">license file</a>.</p>
<p>I have included parts of the <a href="https://github.com/mborgerding/kissfft">kissFFT</a> project by Mark Borgerding, which comes with a BSD-3-clause as well. For more information see the <a href="../../src/kissFFT/COPYING">license file</a> in src/kissfft/. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
